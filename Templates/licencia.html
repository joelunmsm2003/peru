<!DOCTYPE html>

<html lang="en">

{% include "head.html" %}

<script src="/static/js/licencia.js"></script>

<body ng-app="App">

<div class="container" ng-controller="Controller">

{% include "header.html" %}

<h4> Licencia</h4>



<div id="licenciamodal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Agregar Licencia</h4>
      </div>
        <div class="modal-body">

               <div class='row' ng-if="user.nivel ==  1">

           

            <div class="panel panel-default">
            <div class="panel-body"> <p>Numero de Licencias</p>
                      <p>Licencias Actuales : {[{licencias}]} </p>
                      <p>Licencias Temporales : {[{lic.lictemporal}]}</p>
                      <p>Licencias Total : {[{total}]}</p></div>
          </div>
            <form ng-submit='addlicencia(lic)'>

                <div class="col-md-12">
                <div class="form-group">
                <label>Temporales</label>
                <input type="number" ng-change='totall(lic)' ng-model="lic.lictemporal" class="form-control" value="{[{licencias}]}" required="required">
                </div>
                </div>

                <div class="col-md-6">
                <div class="form-group">
                <label>Fecha Inicio</label>
                <input type="date" ng-model="lic.finicio" class="form-control" required="required">
                </div>
                </div>

                <div class="col-md-6">
                <div class="form-group">
                <label>Fecha Fin</label>
                <input type="date" ng-model="lic.ffin" class="form-control"  required="required">
                </div>
                </div>

                

                <div class="col-md-12">
                <div class="form-group">
               
              
                <button  class="btn btn-primary" type="submit">Agregar</button>
                </div>
                </div>
              </form>


    
        </div>

    
   



    </div>

  </div>
</div>

</div>


 <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#licenciamodal">Agregar Licencia</button>
<br></br>

 







<table class="table table-striped table-condensed table-hover ">
    
        <tbody>

            <thead>

            <tr>

                   <th>Id <a ng-click="sort_by('id',currentPage)"><i class="icon-sort"></i></a></th>
                  
                  <th>Lic Temporales <a ng-click="sort_by('status',currentPage)"><i class="icon-sort"></i></a></th>
                  <th>Fecha Inicio <a ng-click="sort_by('nombre',currentPage)"><i class="icon-sort"></i></a></th>

                  
                  <th>Fecha Fin  <a ng-click="sort_by('empresa',currentPage)"><i class="icon-sort"></i></a></th>
           
        
            </tr>

            </thead>



         


              <tr  ng-repeat="contact in lictmp  " ts-repeat>

                <td >{[{contact.id}]} </td>
                <td> {[{contact.lic_tmp}]}</td>
                <td >{[{contact.finicio}]} </td>
               
                <td >{[{contact.ffin}]} </td>
    




           
                

            

              </tr>


        </tbody>


        </table>


</div>







<style type="text/css">
  
.btn-primary{

background-color: #b71c1c;

}

</style>






</body>

</html>